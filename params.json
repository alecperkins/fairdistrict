{"name":"Un-gerrymander","tagline":"","body":"This set of scripts recalculates the 2012 Pennsylvania election for House of Representatives using alternative districts. Using the algorithmically derived districts from [B-Districting](http://bdistricting.com/2010/) that are purely population-based, it calculates an outcome of 9 Republican representatives and 9 Democratic representatives. The actual outcome was 13 Rep. and 5 Dem., even though the Democratic candidates received *over 70,000 more votes* as a whole.\r\n\r\nThe 2012 election looked like this:\r\n\r\n![Image of the 2012 House election in Pennsylvania from NYTimes.com](https://raw.github.com/alecperkins/un-gerrymander/master/images/PA_2012_house_nytimes.png)\r\n\r\nWhen an election using the population-based districting looked like this:\r\n\r\n![Image of votes by census block, according to BDistricting districts](https://raw.github.com/alecperkins/un-gerrymander/master/images/PA_2012_House-bdistricting2010.png)\r\n\r\n\r\n\r\n## Usage\r\n\r\n(This script requires some familiarity with Python and MongoDB.)\r\n\r\nFirst, install the requirements and prepare the database:\r\n\r\n1. `pip install -r requirements.txt`\r\n2. Start an instance of [MongoDB](http://www.mongodb.org/), which stores the processed data\r\n\r\nThen, load and process the data:\r\n\r\n1. Unzip `data.zip`, unpacking the `/data` directory\r\n2. Run `python load.py` to load the data from `/data` into the database\r\n3. Run `python compute.py` to execute various manipulations of the data, including distributing the votes to the blocks\r\n\r\nNext, generate some visualizations with `python visualize.py`. This will create images of votes, like the one above. It also will calculate and display the results of an election using the alternate districts.\r\n\r\n\r\n\r\n## About\r\n\r\n### Why\r\n\r\nIn the 2012 general election for House of Representatives, voters in Pennsylvania cast 2,722,560 votes for Democratic party candidates, and 2,651,901  for Republican party candidates. However, the end result in representation was 13 Republican representatives to 5 Democratic representatives. The [national picture](http://www.ballot-access.org/2012/11/12/only-four-u-s-house-elections-in-the-last-hundred-years-gave-one-party-a-house-majority-even-though-the-other-major-party-polled-more-votes-for-u-s-house/) wasn't much different.\r\n\r\nPennsylvania, like [many states](http://rangevoting.org/GerryGal.html), has some funny looking districts. The cause is generally [gerrymandering](http://en.wikipedia.org/wiki/Gerrymandering), the practice of manipulating district shapes to achieve an electoral outcome. The question is, how much does this manipulation impact the representation? The disconnect between overall party votes and elected representative parties suggests quite a bit.\r\n\r\nThere are several projects that attempt redistricting using algorithmic, automated approaches that are purely population based, instead of the manual, corruptable approaches currently used.\r\n\r\n* [B-Districting](http://bdistricting.com/2010/)\r\n* [RangeVoting Splitline districts](http://rangevoting.org/SplitLR.html)\r\n\r\nThere are also some neat tools for exploring redistricting, like  [District Builder](http://www.districtbuilder.org/).\r\n\r\nBecause voting tends to be regional, the factor that makes gerrymandering possible, the way to measure the effect of gerrymandering, and redistricting in different ways, is proportion of elected parties to votes. The goal isn't proportional representation, but rather reducing the bias toward a particular political party based on deliberately manipulated district shapes.\r\n\r\n### How\r\n\r\nTake votes to each party by county, distribute those votes to the census blocks that make up the county by their share of the population, then recalculate the elections using districts calculated by [bdistricting.com](http://bdistricting.com).\r\n\r\nThe assumption is that people in one block would vote for the same party if the block is moved to a new district (and new contest with different candidates). There are definitely cases where people vote for the candidate against the party. Scraping the vote data from the state website pulled votes for all contests, and a few counties did vote differently for president versus house, in terms of party. However, this difference was minimal.\r\n\r\n### Flaws\r\n\r\nAs mentioned before, this method ignores the realities of the candidates, and treats votes as for parties, not candidates. It also is not completely accurate, as the most precise vote information used is county-level. Recalculating the election using current districts gets two close contests wrong (but just barely). Block-level would be ideal, but is impossible to get. Precinct-level, which is then distributed to blocks, is the next best thing, but compiling and structuring all that data is a daunting challenge. County websites are miserable, and the precinct data, if at all available, is not provided in a standard format.\r\n\r\n\r\n\r\n## TODOs\r\n\r\n### Accuracy\r\n\r\nShort of getting precinct-level data, one possible method to explore alleviating the accuracy problem would be to distribute the votes by original district as well, and use the difference between the district-level votes and the county-level votes to adjust the votes in each block. The Department of State will have the more precise data available as early as January (by CD for 10$ — how quaint).\r\n\r\nAnother source of inaccuracy is turnout. Voter turnout in districts safe for one party may be lower. The precinct data has turnout information, so adjusting for turnout in each area may yield different results.\r\n\r\n[**Sample precinct data for Allegheny County**](http://www.alleghenycounty.us/elect/201211gen/el30.htm)\r\n\r\nExperimenting with some of this data:\r\n\r\n[![Image of the 2012 House election in Allegheny County by precinct](https://raw.github.com/alecperkins/un-gerrymander/master/images/PA_Allegheny_county_precincts.png)](https://tiles.mapbox.com/alecperkins/map/blocks)\r\n\r\n\r\n\r\n\r\n### Alternate districts\r\n\r\nIt would be neat to try this with different districts, such as the RangeVoting Splitline districts. This will require mapping the districts onto the census blocks. This shouldn't be too difficult, since the block groups have coordinate information, and MongoDB supports geospatial queries.\r\n\r\n### Country-wide\r\n\r\nIt would be even more interesting to see this recalculation on a national level, since Pennsylvania is hardly alone in gerrymandered districts. This requires getting vote data on a county level.\r\n\r\n### Improved visualization\r\n\r\nThe images don't show the district borders. Adding in that sort of information about the districts would be helpful (and goes hand-in-hand with alternate districts that are not census block-based).\r\n\r\n[TileMill](http://mapbox.com/tilemill/) is really helpful for this sort of thing.\r\n\r\n\r\n## Census Blocks\r\n\r\n[Blocks](http://en.wikipedia.org/wiki/Census_block) are identified using a 15-digit number, looking something like `420010301011000`.\r\n\r\nFormat: `AABBBCCCCCCDDDD`\r\n\r\n* AA - state [FIPS](http://en.wikipedia.org/wiki/Federal_Information_Processing_Standard_state_code)\r\n* BBB - county [FIPS](http://en.wikipedia.org/wiki/FIPS_county_code)\r\n* CCCCCC - [tract](http://en.wikipedia.org/wiki/Census_tract)\r\n* DDDD - tabulation number\r\n\r\nThe first digit of the tabulation number is the block's [group number](http://en.wikipedia.org/wiki/Census_block_group). The block with ID `42001030101100` has a group number `1` and is in block group `42001030101`.\r\n\r\n\r\n\r\n## Data Files\r\n\r\nA set of files that describing each block, its location, and its district information. Most are downloaded from [census.gov](http://www.census.gov).\r\n\r\n### `42_PA_CD113.txt`\r\n\r\nAssigns census blocks to Congressional districts for the 113th Congress.\r\n\r\n    BLOCKID,CD113\r\n    420010301011000,04\r\n    420010301011001,04\r\n    …\r\n\r\n\r\n### `CenPop2012_Mean_BG42.txt`\r\n\r\nLists the census block groups, their populations, and centers in latitude and longitude. Groups are identified using a number that's the same as the blocks, but with the group number instead of the tabulation number.\r\n\r\n    STATEFP,COUNTYFP,TRACTCE,BLKGRPCE,POPULATION,LATITUDE,LONGITUDE\r\n    42,001,030101,1,2580,+40.015805,-077.081172\r\n    42,001,030102,1,1136,+39.940818,-076.995904\r\n    …\r\n\r\n\r\n### `PA_Congress.csv`\r\n\r\nThe B-Districting districts, assigned to census blocks.\r\n\r\n    420010308003003,9\r\n    420010308003004,9\r\n    …\r\n\r\nDownloaded from [here](http://bdistricting.com/2010/PA_Congress/).\r\n\r\n\r\n### `PA_county_fips.csv`\r\n\r\nA list of Pennsylvania counties and their corresponding [FIPS code](http://en.wikipedia.org/wiki/FIPS_county_code).\r\n\r\n    Adams,001\r\n    Allegheny,003\r\n    …\r\n\r\n### `2012_PA_county_data.json`\r\n\r\nGenerated from county vote information scraped from the Pennsylvania [election returns site](http://www.electionreturns.state.pa.us/ElectionsInformation.aspx).\r\n\r\n    [\r\n        {\r\n            \"raw\": {…},             # The raw data from the site, by contests.\r\n            \"votes\": {              # The votes organized by party.\r\n                \"senate\": {\r\n                    \"rep\": 25209,\r\n                    \"dem\": 15582\r\n                },\r\n                \"president\": {\r\n                    \"rep\": 26490,\r\n                    \"dem\": 14893\r\n                },\r\n                \"house\": {\r\n                    \"rep\": 27142,\r\n                    \"dem\": 11955\r\n                }\r\n            },\r\n            \"fips\": \"001\",\r\n            \"id\": 1,\r\n            \"name\": \"Adams\"\r\n        },\r\n        …\r\n    ]\r\n\r\n\r\n\r\n## More information\r\n\r\n* [Census products](http://www.census.gov/population/www/cen2010/glance/index.html)\r\n* [TIGER shapes](http://www.census.gov/geo/www/tiger/tgrshp2010/tgrshp2010.html) ([ftp - organized by county](ftp://ftp2.census.gov/geo/pvs/tiger2010st/42_Pennsylvania/))\r\n* [Census Block assignment files](https://www.census.gov/geo/www/2010census/baf/baf_main.html)\r\n* [TileMill](http://mapbox.com/tilemill/) - for making visualizations\r\n* [pyshp](http://code.google.com/p/pyshp/) - Python shapefile library\r\n* [Kartograph](http://kartograph.org/) - Python and JavaScript mapping libraries\r\n* [Using MongoDB to store geographic data](http://www.paolocorti.net/2009/12/06/using-mongodb-to-store-geographic-data/)\r\n\r\n\r\n## Authors\r\n\r\n* [Alec Perkins](http://github.com/alecperkins)\r\n\r\n\r\n## License\r\n\r\nUnlicensed aka Public Domain. See [/UNLICENSE](https://github.com/alecperkins/un-gerrymander/blob/master/UNLICENSE) for more information.\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}